/**
 * TickX Mock Data
 *
 * Mock data for prototyping the frontend without a backend.
 */

import type {
  User,
  Venue,
  Event,
  Listing,
  Bid,
  Group,
  GroupMember,
  Notification,
} from '../types';

// Mock Users
export const mockUsers: User[] = [
  {
    id: 'user-1',
    email: 'john@example.com',
    name: 'John Doe',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=john',
    verificationLevel: 'id_verified',
    rating: 4.8,
    totalSales: 156,
    totalPurchases: 23,
    createdAt: '2023-01-15T00:00:00Z',
  },
  {
    id: 'user-2',
    email: 'sarah@example.com',
    name: 'Sarah Miller',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=sarah',
    verificationLevel: 'trusted_seller',
    rating: 4.95,
    totalSales: 487,
    totalPurchases: 12,
    createdAt: '2022-06-20T00:00:00Z',
  },
  {
    id: 'user-3',
    email: 'mike@example.com',
    name: 'Mike Johnson',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=mike',
    verificationLevel: 'email_verified',
    rating: 4.2,
    totalSales: 8,
    totalPurchases: 45,
    createdAt: '2023-08-10T00:00:00Z',
  },
  {
    id: 'current-user',
    email: 'you@example.com',
    name: 'Alex Thompson',
    avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=alex',
    verificationLevel: 'id_verified',
    rating: 4.6,
    totalSales: 12,
    totalPurchases: 34,
    createdAt: '2023-03-01T00:00:00Z',
  },
];

// Mock Venues
export const mockVenues: Venue[] = [
  {
    id: 'venue-1',
    name: 'SoFi Stadium',
    address: '1001 Stadium Dr',
    city: 'Inglewood',
    state: 'CA',
    zip: '90301',
    capacity: 70000,
    imageUrl: 'https://images.unsplash.com/photo-1577223625816-7546f13df25d?w=800',
  },
  {
    id: 'venue-2',
    name: 'Madison Square Garden',
    address: '4 Pennsylvania Plaza',
    city: 'New York',
    state: 'NY',
    zip: '10001',
    capacity: 20789,
    imageUrl: 'https://images.unsplash.com/photo-1534430480872-3498386e7856?w=800',
  },
  {
    id: 'venue-3',
    name: 'Staples Center',
    address: '1111 S Figueroa St',
    city: 'Los Angeles',
    state: 'CA',
    zip: '90015',
    capacity: 19068,
    imageUrl: 'https://images.unsplash.com/photo-1504450758481-7338eba7524a?w=800',
  },
  {
    id: 'venue-4',
    name: 'The Greek Theatre',
    address: '2700 N Vermont Ave',
    city: 'Los Angeles',
    state: 'CA',
    zip: '90027',
    capacity: 5900,
    imageUrl: 'https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?w=800',
  },
  {
    id: 'venue-5',
    name: 'Broadway Theatre',
    address: '1681 Broadway',
    city: 'New York',
    state: 'NY',
    zip: '10019',
    capacity: 1761,
    imageUrl: 'https://images.unsplash.com/photo-1503095396549-807759245b35?w=800',
  },
];

// Helper function to generate future dates
const getFutureDate = (daysFromNow: number, hours = 19): string => {
  const date = new Date();
  date.setDate(date.getDate() + daysFromNow);
  date.setHours(hours, 0, 0, 0);
  return date.toISOString();
};

// Helper function to generate auction end times
const getAuctionEndTime = (hoursFromNow: number): string => {
  const date = new Date();
  date.setHours(date.getHours() + hoursFromNow);
  return date.toISOString();
};

// Mock Events
export const mockEvents: Event[] = [
  {
    id: 'event-1',
    name: 'Taylor Swift | The Eras Tour',
    description: 'Experience the record-breaking Eras Tour live!',
    category: 'concert',
    venue: mockVenues[0],
    eventDate: getFutureDate(45),
    doorsTime: getFutureDate(45, 17),
    imageUrl: 'https://images.unsplash.com/photo-1540039155733-5bb30b53aa14?w=800',
    status: 'scheduled',
    minPrice: 89,
    maxPrice: 850,
    listingCount: 156,
    isFeatured: true,
    artists: ['Taylor Swift'],
    tags: ['pop', 'stadium', 'tour'],
  },
  {
    id: 'event-2',
    name: 'Lakers vs Celtics',
    description: 'Classic NBA rivalry game',
    category: 'sports',
    venue: mockVenues[2],
    eventDate: getFutureDate(12),
    doorsTime: getFutureDate(12, 17),
    imageUrl: 'https://images.unsplash.com/photo-1546519638-68e109498ffc?w=800',
    status: 'scheduled',
    minPrice: 45,
    maxPrice: 450,
    listingCount: 89,
    isFeatured: true,
    artists: [],
    tags: ['nba', 'basketball', 'rivalry'],
  },
  {
    id: 'event-3',
    name: 'Hamilton',
    description: 'The story of America then, told by America now',
    category: 'theater',
    venue: mockVenues[4],
    eventDate: getFutureDate(8),
    doorsTime: getFutureDate(8, 18),
    imageUrl: 'https://images.unsplash.com/photo-1507676184212-d03ab07a01bf?w=800',
    status: 'scheduled',
    minPrice: 150,
    maxPrice: 650,
    listingCount: 34,
    isFeatured: true,
    artists: [],
    tags: ['broadway', 'musical', 'award-winning'],
  },
  {
    id: 'event-4',
    name: 'Beyoncé | Renaissance World Tour',
    description: 'The Renaissance World Tour',
    category: 'concert',
    venue: mockVenues[0],
    eventDate: getFutureDate(60),
    doorsTime: getFutureDate(60, 18),
    imageUrl: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800',
    status: 'scheduled',
    minPrice: 125,
    maxPrice: 950,
    listingCount: 203,
    isFeatured: true,
    artists: ['Beyoncé'],
    tags: ['pop', 'r&b', 'stadium', 'tour'],
  },
  {
    id: 'event-5',
    name: 'Knicks vs Heat',
    description: 'Eastern Conference showdown',
    category: 'sports',
    venue: mockVenues[1],
    eventDate: getFutureDate(5),
    doorsTime: getFutureDate(5, 18),
    imageUrl: 'https://images.unsplash.com/photo-1504450758481-7338eba7524a?w=800',
    status: 'scheduled',
    minPrice: 55,
    maxPrice: 380,
    listingCount: 67,
    isFeatured: false,
    artists: [],
    tags: ['nba', 'basketball'],
  },
  {
    id: 'event-6',
    name: 'Radiohead',
    description: 'Iconic rock band live',
    category: 'concert',
    venue: mockVenues[3],
    eventDate: getFutureDate(30),
    doorsTime: getFutureDate(30, 19),
    imageUrl: 'https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=800',
    status: 'scheduled',
    minPrice: 75,
    maxPrice: 350,
    listingCount: 45,
    isFeatured: false,
    artists: ['Radiohead'],
    tags: ['rock', 'alternative', 'outdoor'],
  },
  {
    id: 'event-7',
    name: 'Dave Chappelle',
    description: 'Stand-up comedy special',
    category: 'comedy',
    venue: mockVenues[1],
    eventDate: getFutureDate(20),
    doorsTime: getFutureDate(20, 20),
    imageUrl: 'https://images.unsplash.com/photo-1585699324551-f6c309eedeca?w=800',
    status: 'scheduled',
    minPrice: 85,
    maxPrice: 275,
    listingCount: 28,
    isFeatured: false,
    artists: ['Dave Chappelle'],
    tags: ['comedy', 'standup'],
  },
  {
    id: 'event-8',
    name: 'Wicked',
    description: 'The untold story of the Witches of Oz',
    category: 'theater',
    venue: mockVenues[4],
    eventDate: getFutureDate(15),
    doorsTime: getFutureDate(15, 18),
    imageUrl: 'https://images.unsplash.com/photo-1503095396549-807759245b35?w=800',
    status: 'scheduled',
    minPrice: 120,
    maxPrice: 450,
    listingCount: 41,
    isFeatured: false,
    artists: [],
    tags: ['broadway', 'musical'],
  },
];

// Mock Listings
export const mockListings: Listing[] = [
  // Taylor Swift listings
  {
    id: 'listing-1',
    sellerId: 'user-2',
    seller: mockUsers[1],
    eventId: 'event-1',
    event: mockEvents[0],
    listingType: 'hybrid',
    status: 'active',
    section: '112',
    row: 'F',
    seats: ['5', '6'],
    quantity: 2,
    startingPrice: 125,
    currentPrice: 185,
    buyNowPrice: 275,
    reservePrice: 150,
    bidCount: 8,
    auctionEndTime: getAuctionEndTime(4),
    reserveMet: true,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 52,
    viewCount: 234,
    createdAt: '2024-01-10T00:00:00Z',
    updatedAt: '2024-01-10T00:00:00Z',
  },
  {
    id: 'listing-2',
    sellerId: 'user-1',
    seller: mockUsers[0],
    eventId: 'event-1',
    event: mockEvents[0],
    listingType: 'fixed',
    status: 'active',
    section: '315',
    row: '2',
    seats: ['1', '2', '3', '4'],
    quantity: 4,
    startingPrice: 89,
    currentPrice: 89,
    allowSplitting: true,
    minQuantity: 1,
    bidIncrement: 5,
    watcherCount: 18,
    viewCount: 156,
    createdAt: '2024-01-08T00:00:00Z',
    updatedAt: '2024-01-08T00:00:00Z',
  },
  {
    id: 'listing-3',
    sellerId: 'user-2',
    seller: mockUsers[1],
    eventId: 'event-1',
    event: mockEvents[0],
    listingType: 'auction',
    status: 'active',
    section: 'Floor A',
    row: '3',
    seats: ['15', '16'],
    quantity: 2,
    startingPrice: 350,
    currentPrice: 425,
    reservePrice: 400,
    bidCount: 5,
    auctionEndTime: getAuctionEndTime(26),
    reserveMet: true,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 10,
    watcherCount: 89,
    viewCount: 412,
    createdAt: '2024-01-05T00:00:00Z',
    updatedAt: '2024-01-05T00:00:00Z',
  },
  {
    id: 'listing-4',
    sellerId: 'user-3',
    seller: mockUsers[2],
    eventId: 'event-1',
    event: mockEvents[0],
    listingType: 'declining',
    status: 'active',
    section: '305',
    row: '12',
    seats: ['8', '9'],
    quantity: 2,
    startingPrice: 180,
    currentPrice: 145,
    floorPrice: 100,
    declineSchedule: {
      amount: 5,
      intervalMinutes: 60,
    },
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 34,
    viewCount: 189,
    createdAt: '2024-01-09T00:00:00Z',
    updatedAt: '2024-01-09T00:00:00Z',
  },
  // Lakers vs Celtics listings
  {
    id: 'listing-5',
    sellerId: 'user-1',
    seller: mockUsers[0],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'auction',
    status: 'active',
    section: '305',
    row: '12',
    seats: ['5', '6'],
    quantity: 2,
    startingPrice: 75,
    currentPrice: 95,
    bidCount: 3,
    auctionEndTime: getAuctionEndTime(14),
    reserveMet: false,
    reservePrice: 100,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 28,
    viewCount: 134,
    createdAt: '2024-01-07T00:00:00Z',
    updatedAt: '2024-01-07T00:00:00Z',
  },
  {
    id: 'listing-6',
    sellerId: 'user-2',
    seller: mockUsers[1],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'hybrid',
    status: 'active',
    section: '101',
    row: 'A',
    seats: ['1', '2', '3', '4'],
    quantity: 4,
    startingPrice: 200,
    currentPrice: 245,
    buyNowPrice: 350,
    bidCount: 4,
    auctionEndTime: getAuctionEndTime(8),
    reserveMet: true,
    allowSplitting: true,
    minQuantity: 2,
    bidIncrement: 10,
    watcherCount: 67,
    viewCount: 298,
    createdAt: '2024-01-06T00:00:00Z',
    updatedAt: '2024-01-06T00:00:00Z',
  },
  // More Lakers vs Celtics listings for venue map demo
  {
    id: 'listing-9',
    sellerId: 'user-2',
    seller: mockUsers[1],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'fixed',
    status: 'active',
    section: '101',
    row: 'C',
    seats: ['7', '8'],
    quantity: 2,
    startingPrice: 180,
    currentPrice: 180,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 45,
    viewCount: 210,
    createdAt: '2024-01-08T00:00:00Z',
    updatedAt: '2024-01-08T00:00:00Z',
  },
  {
    id: 'listing-10',
    sellerId: 'user-1',
    seller: mockUsers[0],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'auction',
    status: 'active',
    section: 'Floor A',
    row: '2',
    seats: ['10', '11'],
    quantity: 2,
    startingPrice: 400,
    currentPrice: 520,
    reservePrice: 450,
    bidCount: 7,
    auctionEndTime: getAuctionEndTime(6),
    reserveMet: true,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 20,
    watcherCount: 112,
    viewCount: 534,
    createdAt: '2024-01-06T00:00:00Z',
    updatedAt: '2024-01-06T00:00:00Z',
  },
  {
    id: 'listing-11',
    sellerId: 'user-3',
    seller: mockUsers[2],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'fixed',
    status: 'active',
    section: '112',
    row: 'G',
    seats: ['1', '2', '3'],
    quantity: 3,
    startingPrice: 125,
    currentPrice: 125,
    allowSplitting: true,
    minQuantity: 1,
    bidIncrement: 5,
    watcherCount: 33,
    viewCount: 178,
    createdAt: '2024-01-07T00:00:00Z',
    updatedAt: '2024-01-07T00:00:00Z',
  },
  {
    id: 'listing-12',
    sellerId: 'user-2',
    seller: mockUsers[1],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'hybrid',
    status: 'active',
    section: '305',
    row: '8',
    seats: ['15', '16'],
    quantity: 2,
    startingPrice: 65,
    currentPrice: 78,
    buyNowPrice: 110,
    bidCount: 2,
    auctionEndTime: getAuctionEndTime(18),
    reserveMet: true,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 21,
    viewCount: 145,
    createdAt: '2024-01-09T00:00:00Z',
    updatedAt: '2024-01-09T00:00:00Z',
  },
  {
    id: 'listing-13',
    sellerId: 'user-1',
    seller: mockUsers[0],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'declining',
    status: 'active',
    section: '108',
    row: '5',
    seats: ['9', '10'],
    quantity: 2,
    startingPrice: 160,
    currentPrice: 135,
    floorPrice: 100,
    declineSchedule: {
      amount: 5,
      intervalMinutes: 60,
    },
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 29,
    viewCount: 167,
    createdAt: '2024-01-08T00:00:00Z',
    updatedAt: '2024-01-08T00:00:00Z',
  },
  {
    id: 'listing-14',
    sellerId: 'user-3',
    seller: mockUsers[2],
    eventId: 'event-2',
    event: mockEvents[1],
    listingType: 'fixed',
    status: 'active',
    section: '302',
    row: '10',
    seats: ['5', '6', '7', '8'],
    quantity: 4,
    startingPrice: 55,
    currentPrice: 55,
    allowSplitting: true,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 18,
    viewCount: 98,
    createdAt: '2024-01-10T00:00:00Z',
    updatedAt: '2024-01-10T00:00:00Z',
  },
  // Hamilton listings
  {
    id: 'listing-7',
    sellerId: 'user-2',
    seller: mockUsers[1],
    eventId: 'event-3',
    event: mockEvents[2],
    listingType: 'fixed',
    status: 'active',
    section: 'Orchestra',
    row: 'H',
    seats: ['101', '102'],
    quantity: 2,
    startingPrice: 350,
    currentPrice: 350,
    allowSplitting: false,
    minQuantity: 2,
    bidIncrement: 10,
    watcherCount: 45,
    viewCount: 267,
    createdAt: '2024-01-04T00:00:00Z',
    updatedAt: '2024-01-04T00:00:00Z',
  },
  {
    id: 'listing-8',
    sellerId: 'user-1',
    seller: mockUsers[0],
    eventId: 'event-3',
    event: mockEvents[2],
    listingType: 'auction',
    status: 'active',
    section: 'Mezzanine',
    row: 'B',
    seats: ['5', '6', '7', '8'],
    quantity: 4,
    startingPrice: 150,
    currentPrice: 195,
    bidCount: 6,
    auctionEndTime: getAuctionEndTime(2),
    reserveMet: true,
    allowSplitting: true,
    minQuantity: 2,
    bidIncrement: 5,
    watcherCount: 23,
    viewCount: 178,
    createdAt: '2024-01-03T00:00:00Z',
    updatedAt: '2024-01-03T00:00:00Z',
  },
];

// Mock Bids for listing-1
export const mockBids: Bid[] = [
  {
    id: 'bid-1',
    listingId: 'listing-1',
    bidderId: 'user-3',
    bidder: mockUsers[2],
    amount: 185,
    quantity: 2,
    status: 'active',
    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'bid-2',
    listingId: 'listing-1',
    bidderId: 'current-user',
    bidder: mockUsers[3],
    amount: 175,
    quantity: 2,
    status: 'outbid',
    createdAt: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'bid-3',
    listingId: 'listing-1',
    bidderId: 'user-3',
    bidder: mockUsers[2],
    amount: 165,
    quantity: 2,
    status: 'outbid',
    createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'bid-4',
    listingId: 'listing-1',
    bidderId: 'current-user',
    bidder: mockUsers[3],
    amount: 155,
    quantity: 2,
    status: 'outbid',
    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'bid-5',
    listingId: 'listing-1',
    bidderId: 'user-3',
    bidder: mockUsers[2],
    amount: 145,
    quantity: 2,
    status: 'outbid',
    createdAt: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),
  },
];

// Mock Group Purchase
export const mockGroups: Group[] = [
  {
    id: 'group-1',
    listingId: 'listing-6',
    listing: mockListings[5],
    organizerId: 'current-user',
    organizer: mockUsers[3],
    targetQuantity: 4,
    deadline: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
    status: 'forming',
    inviteCode: 'ABC123',
    members: [
      {
        id: 'member-1',
        groupId: 'group-1',
        userId: 'current-user',
        user: mockUsers[3],
        quantity: 1,
        maxPricePerTicket: 400,
        paymentStatus: 'confirmed',
        joinedAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
        confirmedAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),
      },
      {
        id: 'member-2',
        groupId: 'group-1',
        userId: 'user-3',
        user: mockUsers[2],
        quantity: 1,
        maxPricePerTicket: 350,
        paymentStatus: 'confirmed',
        joinedAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),
        confirmedAt: new Date(Date.now() - 30 * 60 * 1000).toISOString(),
      },
    ] as GroupMember[],
    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
  },
];

// Mock Notifications
export const mockNotifications: Notification[] = [
  {
    id: 'notif-1',
    userId: 'current-user',
    type: 'outbid',
    title: 'You\'ve been outbid!',
    message: 'Someone bid $185 on Taylor Swift tickets. Bid again to stay in the lead.',
    linkUrl: '/listings/listing-1',
    read: false,
    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'notif-2',
    userId: 'current-user',
    type: 'price_drop',
    title: 'Price dropped!',
    message: 'Lakers vs Celtics tickets are now $145 (was $180)',
    linkUrl: '/listings/listing-4',
    read: false,
    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'notif-3',
    userId: 'current-user',
    type: 'group_update',
    title: 'Mike joined your group!',
    message: 'Your Lakers game group is now 2/4 confirmed.',
    linkUrl: '/groups/group-1',
    read: true,
    createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),
  },
];

// Current user (simulates logged-in user)
export const currentUser = mockUsers[3];

// Helper functions for filtering
export const getEventsByCategory = (category: string): Event[] => {
  return mockEvents.filter((event) => event.category === category);
};

export const getListingsForEvent = (eventId: string): Listing[] => {
  return mockListings.filter((listing) => listing.eventId === eventId);
};

export const getFeaturedEvents = (): Event[] => {
  return mockEvents.filter((event) => event.isFeatured);
};

export const getTrendingEvents = (): Event[] => {
  return mockEvents.slice(0, 6);
};

export const getAuctionsEndingSoon = (): Listing[] => {
  return mockListings
    .filter(
      (listing) =>
        (listing.listingType === 'auction' || listing.listingType === 'hybrid') &&
        listing.auctionEndTime
    )
    .sort((a, b) => {
      return new Date(a.auctionEndTime!).getTime() - new Date(b.auctionEndTime!).getTime();
    })
    .slice(0, 5);
};

export const getBidsForListing = (listingId: string): Bid[] => {
  return mockBids.filter((bid) => bid.listingId === listingId);
};
